"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var DynamicAdapt=function(){return _createClass((function e(t){_classCallCheck(this,e),this.type=t}),[{key:"init",value:function(){var e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=_toConsumableArray(document.querySelectorAll("[data-da]")),this.nodes.forEach((function(t){var r=t.dataset.da.trim().split(","),o={};o.element=t,o.parent=t.parentNode,o.destination=document.querySelector("".concat(r[0].trim())),o.breakpoint=r[1]?r[1].trim():"767",o.place=r[2]?r[2].trim():"last",o.index=e.indexInParent(o.parent,o.element),e.оbjects.push(o)})),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map((function(t){var r=t.breakpoint;return"(".concat(e.type,"-width: ").concat(r,"px),").concat(r)})).filter((function(e,t,r){return r.indexOf(e)===t})),this.mediaQueries.forEach((function(t){var r=t.split(","),o=window.matchMedia(r[0]),n=r[1],a=e.оbjects.filter((function(e){return e.breakpoint===n}));o.onchange=function(){e.mediaHandler(o,a)},e.mediaHandler(o,a)}))}},{key:"mediaHandler",value:function(e,t){var r=this;e.matches?t.forEach((function(e){r.moveTo(e.place,e.element,e.destination)})):t.forEach((function(e){var t=e.parent,o=e.element,n=e.index;o.classList.contains(r.daClassname)&&r.moveBack(t,o,n)}))}},{key:"moveTo",value:function(e,t,r){t.classList.add(this.daClassname),"last"===e||e>=r.children.length?r.append(t):"first"!==e?r.children[e].before(t):r.prepend(t)}},{key:"moveBack",value:function(e,t,r){t.classList.remove(this.daClassname),void 0!==e.children[r]?e.children[r].before(t):e.append(t)}},{key:"indexInParent",value:function(e,t){return _toConsumableArray(e.children).indexOf(t)}},{key:"arraySort",value:function(e){"min"===this.type?e.sort((function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:0:e.breakpoint-t.breakpoint})):e.sort((function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:0:t.breakpoint-e.breakpoint}))}}])}(),da=new DynamicAdapt("max");da.init();var dropdownButtons=document.querySelectorAll(".dropdown__toggle");if(dropdownButtons[0]){var dropdownContents=document.querySelectorAll(".dropdown__list");function e(t){if(!t.target.closest(".site-navigation__list")||27===t.keyCode){for(var r=0;r<dropdownButtons.length;r++)dropdownButtons[r].classList.remove("dropdown__toggle--active"),dropdownContents[r].classList.remove("dropdown__list--active");document.removeEventListener("click",e),window.removeEventListener("keydown",e)}}dropdownButtons.forEach((function(t){t.addEventListener("click",(function(t){var r=t.target,o=r.nextElementSibling;dropdownButtons.forEach((function(e){e!==r&&e.classList.remove("dropdown__toggle--active")})),dropdownContents.forEach((function(e){e!==o&&e.classList.remove("dropdown__list--active")})),r.classList.toggle("dropdown__toggle--active"),o.classList.toggle("dropdown__list--active"),document.addEventListener("click",e),window.addEventListener("keydown",e)}))}))}var burgerButton=document.querySelector(".burger-button--open");if(burgerButton){var burgerMenu=document.querySelector(".site-header__main-navigation"),closeBurgerButton=document.querySelector(".burger-button--close");function t(){burgerMenu.classList.add("site-header__main-navigation--active")}function r(){burgerMenu.classList.remove("site-header__main-navigation--active")}burgerButton.addEventListener("click",t),closeBurgerButton.addEventListener("click",r)}var themeButton=document.querySelector(".theme-button");if(themeButton){var documentHtml=document.querySelector("html"),isDarkTheme=localStorage.getItem("dark-theme");function o(){"true"!==(isDarkTheme=localStorage.getItem("dark-theme"))?n():"true"===isDarkTheme&&a()}function n(){documentHtml.classList.add("dark-theme"),themeButton.classList.add("theme-button--active"),localStorage.setItem("dark-theme","true")}function a(){documentHtml.classList.remove("dark-theme"),themeButton.classList.remove("theme-button--active"),localStorage.removeItem("dark-theme","false")}"true"===isDarkTheme?n():a(),themeButton.addEventListener("click",o)}var popularPostsSlider=document.querySelector(".popular-posts-slider");popularPostsSlider&&(popularPostsSlider=new Splide(popularPostsSlider,{arrows:!1,gap:30,focusableNodes:"a, button"}).mount());var aboutUsSlider=document.querySelector(".about-us__slider");aboutUsSlider&&(aboutUsSlider=new Splide(aboutUsSlider,{perPage:5,arrows:!1,gap:30,focusableNodes:"a, button"}).mount());var accordion=document.querySelector(".accordion");accordion&&new Accordion(accordion).open(0);var allTabs=document.querySelectorAll(".tabs");function findVideos(){for(var e=document.querySelectorAll(".video"),t=0;t<e.length;t++)setupVideo(e[t])}function setupVideo(e){var t=e.querySelector(".video__link"),r=e.querySelector(".video__media"),o=e.querySelector(".video__button"),n=parseMediaURL(r);e.addEventListener("click",(function(){var r=createIframe(n);t.remove(),o.remove(),e.appendChild(r)})),t.removeAttribute("href"),e.classList.add("video--enabled")}function parseMediaURL(e){return e.src.match(/https:\/\/i\.ytimg\.com\/vi\/([a-zA-Z0-9_-]+)\/maxresdefault\.jpg/i)[1]}function createIframe(e){var t=document.createElement("iframe");return t.setAttribute("allowfullscreen",""),t.setAttribute("allow","autoplay"),t.setAttribute("src",generateURL(e)),t.classList.add("video__media"),t}function generateURL(e){return"https://www.youtube.com/embed/"+e+"?rel=0&showinfo=0&autoplay=1"}allTabs.length>0&&allTabs.forEach((function(e){var t=e.querySelectorAll(".tabs__button"),r=e.querySelectorAll(".tabs__content");t.forEach((function(e,o){e.addEventListener("click",(function(n){n.preventDefault(),t.forEach((function(e){e.classList.remove("tabs__button--active")})),r.forEach((function(e){e.classList.remove("tabs__content--active")})),e.classList.add("tabs__button--active"),r[o].classList.add("tabs__content--active")}))}))})),findVideos();